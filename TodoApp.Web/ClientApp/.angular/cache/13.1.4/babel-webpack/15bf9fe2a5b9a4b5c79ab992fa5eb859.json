{"ast":null,"code":"import _asyncToGenerator from \"F:\\\\ProjectWorks\\\\DotNetCore\\\\TodoApp\\\\TodoApp.Web\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TodoFormComponent = class TodoFormComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.todo = {\n      id: \"\",\n      isDone: false,\n      time: new Date(),\n      title: \"\",\n      description: \"\"\n    };\n  }\n\n  onSubmit(myForm) {\n    console.log(\"Your form data:\", myForm.value);\n    this.todo = myForm.value;\n\n    if (this.todo.id) {\n      console.log(this.todo);\n      this.update(this.todo);\n    } else {\n      if (!this.todo.isDone) {\n        this.todo.isDone = false;\n      }\n\n      console.log(this.todo);\n      this.http.post('https://localhost:7115/' + 'api/todos/createtodo', this.todo).subscribe(response => console.log(response), error => console.log(error));\n    }\n\n    myForm.reset();\n  }\n\n  update(data) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.http.put('https://localhost:7115/' + 'api/todos/updatetodo', _this.todo).subscribe(response => console.log(response), error => console.log(error));\n    })();\n  }\n\n  ngOnInit() {\n    this.router.params.subscribe(params => this._id = params.id);\n    console.log(this._id);\n\n    if (this._id) {\n      this.http.get('https://localhost:7115/' + 'api/todos/gettodobyid/' + this._id).subscribe(data => {\n        this.todo = data;\n        console.log(this.todo);\n        return this.todo;\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n\n};\nTodoFormComponent = __decorate([Component({\n  selector: \"app-todo-form\",\n  templateUrl: \"./todo-form.component.html\"\n})], TodoFormComponent);\nexport { TodoFormComponent };","map":{"version":3,"sources":["F:/ProjectWorks/DotNetCore/TodoApp/TodoApp.Web/ClientApp/src/app/todo-form/todo-form.component.ts"],"names":["__decorate","Component","TodoFormComponent","constructor","http","router","todo","id","isDone","time","Date","title","description","onSubmit","myForm","console","log","value","update","post","subscribe","response","error","reset","data","put","ngOnInit","params","_id","get","selector","templateUrl"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,IAAIC,iBAAiB,GAAG,MAAMA,iBAAN,CAAwB;AAC5CC,EAAAA,WAAW,CAACC,IAAD,EAAOC,MAAP,EAAe;AACtB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,IAAL,GAAY;AACRC,MAAAA,EAAE,EAAE,EADI;AAERC,MAAAA,MAAM,EAAE,KAFA;AAGRC,MAAAA,IAAI,EAAE,IAAIC,IAAJ,EAHE;AAIRC,MAAAA,KAAK,EAAE,EAJC;AAKRC,MAAAA,WAAW,EAAE;AALL,KAAZ;AAOH;;AACDC,EAAAA,QAAQ,CAACC,MAAD,EAAS;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,MAAM,CAACG,KAAtC;AACA,SAAKX,IAAL,GAAYQ,MAAM,CAACG,KAAnB;;AACA,QAAI,KAAKX,IAAL,CAAUC,EAAd,EAAkB;AACdQ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,IAAjB;AACA,WAAKY,MAAL,CAAY,KAAKZ,IAAjB;AACH,KAHD,MAIK;AACD,UAAI,CAAC,KAAKA,IAAL,CAAUE,MAAf,EAAuB;AACnB,aAAKF,IAAL,CAAUE,MAAV,GAAmB,KAAnB;AACH;;AACDO,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,IAAjB;AACA,WAAKF,IAAL,CAAUe,IAAV,CAAe,4BAA4B,sBAA3C,EAAmE,KAAKb,IAAxE,EACKc,SADL,CACgBC,QAAD,IAAcN,OAAO,CAACC,GAAR,CAAYK,QAAZ,CAD7B,EACqDC,KAAD,IAAWP,OAAO,CAACC,GAAR,CAAYM,KAAZ,CAD/D;AAEH;;AACDR,IAAAA,MAAM,CAACS,KAAP;AACH;;AACKL,EAAAA,MAAM,CAACM,IAAD,EAAO;AAAA;;AAAA;AACf,YAAM,KAAI,CAACpB,IAAL,CAAUqB,GAAV,CAAc,4BAA4B,sBAA1C,EAAkE,KAAI,CAACnB,IAAvE,EACDc,SADC,CACUC,QAAD,IAAcN,OAAO,CAACC,GAAR,CAAYK,QAAZ,CADvB,EAC+CC,KAAD,IAAWP,OAAO,CAACC,GAAR,CAAYM,KAAZ,CADzD,CAAN;AADe;AAGlB;;AACDI,EAAAA,QAAQ,GAAG;AACP,SAAKrB,MAAL,CAAYsB,MAAZ,CAAmBP,SAAnB,CAA6BO,MAAM,IAAI,KAAKC,GAAL,GAAWD,MAAM,CAACpB,EAAzD;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKY,GAAjB;;AACA,QAAI,KAAKA,GAAT,EAAc;AACV,WAAKxB,IAAL,CAAUyB,GAAV,CAAc,4BAA4B,wBAA5B,GAAuD,KAAKD,GAA1E,EACKR,SADL,CACgBI,IAAD,IAAU;AACrB,aAAKlB,IAAL,GAAYkB,IAAZ;AACAT,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,IAAjB;AACA,eAAO,KAAKA,IAAZ;AACH,OALD,EAKIgB,KAAD,IAAW;AACVP,QAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACH,OAPD;AAQH;AACJ;;AA9C2C,CAAhD;AAgDApB,iBAAiB,GAAGF,UAAU,CAAC,CAC3BC,SAAS,CAAC;AACN6B,EAAAA,QAAQ,EAAE,eADJ;AAENC,EAAAA,WAAW,EAAE;AAFP,CAAD,CADkB,CAAD,EAK3B7B,iBAL2B,CAA9B;AAMA,SAASA,iBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet TodoFormComponent = class TodoFormComponent {\r\n    constructor(http, router) {\r\n        this.http = http;\r\n        this.router = router;\r\n        this.todo = {\r\n            id: \"\",\r\n            isDone: false,\r\n            time: new Date(),\r\n            title: \"\",\r\n            description: \"\"\r\n        };\r\n    }\r\n    onSubmit(myForm) {\r\n        console.log(\"Your form data:\", myForm.value);\r\n        this.todo = myForm.value;\r\n        if (this.todo.id) {\r\n            console.log(this.todo);\r\n            this.update(this.todo);\r\n        }\r\n        else {\r\n            if (!this.todo.isDone) {\r\n                this.todo.isDone = false;\r\n            }\r\n            console.log(this.todo);\r\n            this.http.post('https://localhost:7115/' + 'api/todos/createtodo', this.todo)\r\n                .subscribe((response) => console.log(response), (error) => console.log(error));\r\n        }\r\n        myForm.reset();\r\n    }\r\n    async update(data) {\r\n        await this.http.put('https://localhost:7115/' + 'api/todos/updatetodo', this.todo)\r\n            .subscribe((response) => console.log(response), (error) => console.log(error));\r\n    }\r\n    ngOnInit() {\r\n        this.router.params.subscribe(params => this._id = params.id);\r\n        console.log(this._id);\r\n        if (this._id) {\r\n            this.http.get('https://localhost:7115/' + 'api/todos/gettodobyid/' + this._id)\r\n                .subscribe((data) => {\r\n                this.todo = data;\r\n                console.log(this.todo);\r\n                return this.todo;\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n        }\r\n    }\r\n};\r\nTodoFormComponent = __decorate([\r\n    Component({\r\n        selector: \"app-todo-form\",\r\n        templateUrl: \"./todo-form.component.html\"\r\n    })\r\n], TodoFormComponent);\r\nexport { TodoFormComponent };\r\n"]},"metadata":{},"sourceType":"module"}